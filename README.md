# apm 前端监控系统

## 一.前端监控目标

#### 1.1 稳定性(stability)

| 错误名称 | 描述                         |
| -------- | ---------------------------- |
| js错误   | js执行错误或者promise异常    |
| 资源异常 | script或者link等资源加载异常 |
| 接口错误 | ajax或者fetch请求接口异常    |
| 白屏     | 页面空白                     |

#### 1.2 用户体验(experience)

| 错误名称                           | 描述                                                         |
| ---------------------------------- | ------------------------------------------------------------ |
| 加载时间                           | 各个阶段的加载时间                                           |
| TTFB(time to first byte)首字节时间 | 是浏览器发起第一个请求到返回第一个字节的时间。这个时间包含了网络请求时间，后端处理时间，以及第一个字节渲染到页面的时间 |
| FP(first paint)首次绘制的时间      | 首次绘制包括了任何用户的自定义背景绘制，它是将第一个像素点绘制到屏幕的时刻。 |
| FCP                                |                                                              |
| FMP                                |                                                              |
| FID                                |                                                              |

#### 1.3 业务(business)

| 错误名称      | 描述                           |
| ------------- | ------------------------------ |
| PV(page view) | 页面浏览器或者点击量           |
| UV            | 访问某个站点的不同ip地址的人数 |
| 页面停留时间  | 用户在每一个页面的停留时间     |

## 二.前端监控流程

1. 前端埋点
2. 数据上报
3. 分析和计算。将采集到的数据进行加工和处理
4. 可视化展示。将数据按照各种维度进行展示
5. 监控报警。发现问题后按照一定的条件出发报警

